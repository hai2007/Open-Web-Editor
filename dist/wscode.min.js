/*!
* web Studio Code - üéâ An Editor Used on the Browser Side.
* git+https://github.com/yelloxing/Web-Studio-Code.git
*
* author ÂøÉÂè∂
*
* version 1.0.4
*
* build Fri May 08 2020
*
* Copyright yelloxing
* Released under the MIT license
*
* Date:Mon May 11 2020 10:29:03 GMT+0800 (GMT+08:00)
*/

"use strict";function _defineProperty(t,e,r){if(e in t){Object.defineProperty(t,e,{value:r,enumerable:true,configurable:true,writable:true})}else{t[e]=r}return t}function _typeof2(t){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function t(e){return typeof e}}else{_typeof2=function t(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}}return _typeof2(t)}(function(){"use strict";var t;var e=Object.prototype.toString;function r(t){if(t==null){return t===undefined?"[object Undefined]":"[object Null]"}return e.call(t)}function n(t){if(t===null||_typeof2(t)!=="object"||r(t)!="[object Object]"){return false}if(Object.getPrototypeOf(t)===null){return true}var e=t;while(Object.getPrototypeOf(e)!==null){e=Object.getPrototypeOf(e)}return Object.getPrototypeOf(t)===e}function o(t){return t!==null&&_typeof2(t)==="object"&&(t.nodeType===1||t.nodeType===9||t.nodeType===11)&&!n(t)}function i(t){var e=_typeof2(t);return e==="string"||e==="object"&&t!=null&&!Array.isArray(t)&&r(t)==="[object String]"}function a(t,e){var r=[];(t||"").split(/\n/).forEach(function(t){r.push([{type:"normal",content:t,color:e.normal}])});return r}function f(t,e,r){alert("htmlËØ≠Ë®ÄÁºñËæëÂô®ÂºÄÂèë‰∏≠")}function u(t,e,r){alert("cssËØ≠Ë®ÄÁºñËæëÂô®ÂºÄÂèë‰∏≠")}function c(t,e,r){alert("jsËØ≠Ë®ÄÁºñËæëÂô®ÂºÄÂèë‰∏≠")}function l(t){if(o(t.el)){t.format={js:c,css:u,html:f}[t.lang]||a;t.color=t.color||{};t.color.background=t.color.background||"#d6d6e4";t.color.normal=t.color.normal||"#000";t.color.key=t.color.key||"#ec0b0b";t.color.note=t.color.note||"#8BC34A";t.color.variable=t.color.variable||"#0a6893";t.color.lineNum=t.color.lineNum||"#888484";t.color.editLine=t.color.editLine||"#eaeaf1";if(i(t.content)){t.textArray=(t.content+"").split("\n")}else{t.textArray=[""]}}else{throw new Error("options.el is not a element!")}}function s(t,e){return e={exports:{}},t(e,e.exports),e.exports}var d=s(function(Ot){var It=typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"?function(t){return _typeof2(t)}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)};(function(){var e=Object.prototype.toString;function r(t){if(t==null){return t===undefined?"[object Undefined]":"[object Null]"}return e.call(t)}function n(t){if(t===null||(typeof t==="undefined"?"undefined":It(t))!=="object"||r(t)!="[object Object]"){return false}if(Object.getPrototypeOf(t)===null){return true}var e=t;while(Object.getPrototypeOf(e)!==null){e=Object.getPrototypeOf(e)}return Object.getPrototypeOf(t)===e}function m(t){return t!==null&&(typeof t==="undefined"?"undefined":It(t))==="object"&&(t.nodeType===1||t.nodeType===9||t.nodeType===11)&&!n(t)}function o(t){var e=typeof t==="undefined"?"undefined":It(t);return t!=null&&(e==="object"||e==="function")}function w(t){if(!o(t)){return false}var e=r(t);return e==="[object Function]"||e==="[object AsyncFunction]"||e==="[object GeneratorFunction]"||e==="[object Proxy]"}function b(t){var e=typeof t==="undefined"?"undefined":It(t);return e==="string"||e==="object"&&t!=null&&!Array.isArray(t)&&r(t)==="[object String]"}var f=function t(e,r){for(var n in r){try{e[n]=r[n]}catch(t){throw new Error("Illegal property valueÔºÅ")}}return e};var a={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};var x={whitespace:"[\\x20\\t\\r\\n\\f]",blank:"[\\n\\f\\r]",identifier:"(?:\\\\.|[\\w-]|[^\0-\\xa0])+"};var u=["href","title","show","type","role","actuate"];function c(t){return t!==null&&(typeof t==="undefined"?"undefined":It(t))==="object"&&t.nodeType===3&&!n(t)}var l=function t(e,r){if("innerHTML"in SVGElement.prototype===false||"innerHTML"in SVGSVGElement.prototype===false){var n=document.createElement("div");n.innerHTML=r;var i=function t(e){var r=document.createElementNS(a.svg,e.tagName.toLowerCase());var n=e.attributes;for(var o=0;n&&o<n.length;o++){if(u.indexOf(n[o].nodeName)>=0){r.setAttributeNS(a.xlink,"xlink:"+n[o].nodeName,e.getAttribute(n[o].nodeName))}else{r.setAttribute(n[o].nodeName,e.getAttribute(n[o].nodeName))}}return r};var o=i(n.firstChild);(function t(e,r){var n=e.firstChild;if(c(n)){r.textContent=e.innerText;return}while(n){var o=i(n);r.appendChild(o);if(n.firstChild)t(n,o);n=n.nextSibling}})(n.firstChild,o);e.appendChild(o)}else{e.innerHTML=r}};var i=function t(e,r){var n=void 0,o=void 0;if(r==="html"||r==="HTML"){if(/^<tr[> ]/.test(e)){n=document.createElement("tbody")}else if(/^<th[> ]/.test(e)||/^<td[> ]/.test(e)){n=document.createElement("tr")}else if(/^<thead[> ]/.test(e)||/^<tbody[> ]/.test(e)){n=document.createElement("table")}else{n=document.createElement("div")}n.innerHTML=e;if(!/</.test(n.innerHTML)){throw new Error("This template cannot be generated using div as a container:"+e+"\nPlease contact us: https://github.com/yelloxing/image2D/issues")}}else{n=document.createElementNS(a.svg,"svg");l(n,e)}o=n.childNodes;for(var i=0;i<o.length;i++){if(m(o[i]))return o[i]}};function _(t,e){if(new RegExp("^"+x.identifier+"$").test(t))t="<"+t+"></"+t+">";var r=/^<([^(>| )]+)/.exec(t)[1];if("canvas"===r.toLowerCase())e="HTML";if(!b(e)&&["div","span","p","em","i","table","ul","ol","dl","form","input","button","textarea","header","footer","article","section","h1","h2","h3","h4","h5","h6","image","video","iframe","object","style","script","link","tr","td","th","tbody","thead"].indexOf(r.toLowerCase())>=0)e="HTML";return i(t,e)}function s(t,e){if(b(e)||b(t)){t=t.trim().replace(new RegExp(x.blank,"g"),"");if(typeof e=="string"||/^</.test(t)){var r=_(t,e);if(m(r))return[r];else return[]}else if(t==="*"){return e.getElementsByTagName("*")}var n=t.match(new RegExp("#"+x.identifier,"g"));if(n){var o=document.getElementById(n[0].replace("#",""));if(m(o))return[o];else return[]}var i=t.match(new RegExp("\\."+x.identifier,"g")),a=t.match(new RegExp("^"+x.identifier));if(a||i){var f=e.getElementsByTagName(a?a[0]:"*"),u=[];for(var c=0;c<f.length;c++){var l=" "+f[c].getAttribute("class")+" ",s=true;for(var d=0;i&&d<i.length;d++){if(!l.match(" "+i[d].replace(".","")+" ")){s=false;break}}if(s)u.push(f[c])}return u}else{throw new Error("Unsupported selector:"+t)}}else if(m(t)){return[t]}else if(t&&(t.constructor===Array||t.constructor===HTMLCollection||t.constructor===NodeList)){var h=[];for(var p=0;p<t.length;p++){if(m(t[p]))h.push(t[p])}return h}else if(t&&t.constructor===T){return t}else if(w(t)){var v=e.getElementsByTagName("*"),g=[];for(var y=0;y<v.length;y++){if(t(v[y]))g.push(v[y])}return g}else{throw new Error("Unknown selector:"+t)}}var T=function t(e,r){return new t.prototype.init(e,r)};T.prototype.init=function(t,e){this.context=e=e||document;var r=s(t,e),n=void 0;for(n=0;n<r.length;n++){this[n]=r[n]}this.length=r.length;return this};T.prototype.extend=T.extend=function(){var t=arguments[0]||{};var e=arguments[1]||{};var r=arguments.length;if(r===1){e=t;t=this}if(!o(t)){t={}}for(var n in e){try{t[n]=e[n]}catch(t){throw new Error("Illegal property valueÔºÅ")}}return t};T.prototype.init.prototype=T.prototype;function t(t){var u=t||{},c=void 0,n=void 0;var o=function t(){var a=[],f=0,u=0;(function t(e,r){if(r>u)u=r;var n=void 0;for(n=0;n<e.children.length;n++){t(c[e.children[n]],r+1)}c[e.id].left=r+.5;if(n==0){if(a[r]==undefined)a[r]=-.5;if(a[r-1]==undefined)a[r-1]=-.5;c[e.id].top=a[r]+1;var o=a[r]+1+(c[e.pid].children.length-1)*.5;if(o-1<a[r-1])c[e.id].top=a[r-1]+1-(c[e.pid].children.length-1)*.5}else{c[e.id].top=(c[e.children[0]].top+c[e.children[n-1]].top)*.5}if(c[e.id].top<=a[r]){var i=a[r]+1-c[e.id].top;(function t(e,r){c[e].top+=i;if(a[r]<c[e].top)a[r]=c[e].top;var n=void 0;for(n=0;n<c[e].children.length;n++){t(c[e].children[n],r+1)}})(e.id,r)}a[r]=c[e.id].top;if(c[e.id].top+.5>f)f=c[e.id].top+.5})(c[n],0);return{node:c,root:n,size:f,deep:u+1}};var i=function t(i){var a={};var e=u.root(i),f=void 0,r=void 0;f=r=u.id(e);a[f]={data:e,pid:null,id:f,children:[]};(function t(e,r){var n=u.child(e,i),o=void 0;for(o=0;n&&o<n.length;o++){f=u.id(n[o]);a[r].children.push(f);a[f]={data:n[o],pid:r,id:f,children:[]};t(n[o],f)}})(e,f);return[r,a]};var e=function t(e){var r=i(e);c=r[1];n=r[0];return o()};e.root=function(t){u.root=t;return e};e.child=function(t){u.child=t;return e};e.id=function(t){u.id=t;return e};return e}var E=function t(e,r,n,o,i){var a=Math.cos(n),f=Math.sin(n);return[+((o-e)*a-(i-r)*f+e).toFixed(7),+((o-e)*f+(i-r)*a+r).toFixed(7)]};var d=function t(e,r,n,o,i){var a=Math.sqrt(e*e+r*r);return[+(e*n/a+o).toFixed(7),+(r*n/a+i).toFixed(7)]};var h=function t(e,r,n,o,i){return[+(n*(o-e)+e).toFixed(7),+(n*(i-r)+r).toFixed(7)]};var p=function t(i){i=f({d:[1,1],c:[0,0],p:[0,0]},i);var a={rotate:function t(e){var r=i.d[0]+i.p[0],n=i.d[1]+i.p[1];var o=E(i.p[0],i.p[1],e,r,n);i.d=[o[0]-i.p[0],o[1]-i.p[1]];return a},move:function t(e){i.p=d(i.d[0],i.d[1],e,i.p[0],i.p[1]);return a},scale:function t(e){i.p=h(i.c[0],i.c[1],e,i.p[0],i.p[1]);return a},value:function t(){return i.p}};return a};function v(w){w=f({"begin-deg":0,deg:Math.PI*2},w);var b=t().root(w.root).child(w.child).id(w.id);var e=function t(e){var r=b(e);for(var n in r.node){r.node[n].deep=r.node[n].left-.5}if(w.type==="LR"||w.type==="RL"){var o=w.width/r.deep;if("RL"===w.type)o*=-1;var i=w.height/(r.size- -.5);for(var a in r.node){var f=r.node[a];r.node[a].left=+(("RL"==w.type?w.width:0)- -f.left*o).toFixed(7);r.node[a].top=+(f.top*i).toFixed(7)}}else if(w.type==="TB"||w.type==="BT"){var u=w.height/r.deep;if("BT"==w.type)u*=-1;var c=w.width/(r.size- -.5);var l=void 0,s=void 0;for(var d in r.node){var h=r.node[d];l=h.left;s=h.top;r.node[d].top=+(("BT"==w.type?w.height:0)- -l*u).toFixed(7);r.node[d].left=+(s*c).toFixed(7)}}else if(w.type==="circle"){var p=w.radius/(r.deep-1);var v=w.deg/(r.size- -.5);for(var g in r.node){var y=r.node[g];r.node[g].deg=(w["begin-deg"]- -v*y.top)%(Math.PI*2);var m=E(w.cx,w.cy,r.node[g].deg,w.cx- -p*(y.left-.5),w.cy);r.node[g].left=+m[0];r.node[g].top=+m[1]}}w.drawer(r);return t};e.config=function(t){w=f(w,t);return e};e.drawer=function(t){w.drawer=t;return e};return e}function g(t){return typeof t==="number"||t!==null&&(typeof t==="undefined"?"undefined":It(t))==="object"&&r(t)==="[object Number]"}function y(u){u=f({"begin-deg":-Math.PI/2,deg:Math.PI*2,radius:[]},u);if(!w(u.value)){throw new Error("config.value must be a function!")}var e=function t(e){var r=0,n=[],o=0;for(var i in e){n.push({value:u.value(e[i],i,r),data:e[i],key:i,index:r,dots:[]});o+=n[r].value;r+=1}for(r=0;r<n.length;r++){n[r].beginDeg=r===0?u["begin-deg"]:n[r-1].beginDeg+n[r-1].deg;var a=n[r].value/o;n[r].deg=a*u.deg;n[r].percent=new Number(a*100).toFixed(2)}if(g(u.cx)&&g(u.cy)){for(r=0;r<u.radius.length;r++){for(var f=0;f<n.length;f++){n[f].dots.push(E(u.cx,u.cy,n[f].beginDeg+n[f].deg*.5,u.cx+u.radius[r],u.cy))}}}if(w(u.drawer)){u.drawer(n)}};e.config=function(t){u=f(u,t);return e};e.drawer=function(t){u.drawer=t;return e};return e}function k(t,e,r,n){n=n||0;var o=Math.sqrt(e*e+r*r+n*n);return[1,0,0,0,0,1,0,0,0,0,1,0,e*t/o,r*t/o,n*t/o,1]}function P(t){var e=Math.sin(t),r=Math.cos(t);return[r,e,0,0,-e,r,0,0,0,0,1,0,0,0,0,1]}function C(t,e,r,n,o,i){n=n||0;o=o||0;i=i||0;return[t,0,0,0,0,e,0,0,0,0,r,0,n-n*t,o-o*e,i-i*r,1]}function j(t,e,r,n,o,i){if(typeof t==="number"&&typeof e==="number"){if(typeof r!=="number"){r=0;n=t;o=e;i=1}else if(typeof n!=="number"||typeof o!=="number"||typeof i!=="number"){n=t;o=e;i=r;t=0;e=0;r=0}if(t==n&&e==o&&r==i)throw new Error("It's not a legitimate ray!");var a=Math.sqrt((n-t)*(n-t)+(o-e)*(o-e)),f=a!=0?(o-e)/a:1,u=a!=0?(n-t)/a:0,c=(n-t)*u+(o-e)*f,l=i-r,s=Math.sqrt(c*c+l*l),d=s!=0?l/s:1,h=s!=0?c/s:0;return[[f,d*u,u*h,0,-u,f*d,f*h,0,0,-h,d,0,e*u-t*f,r*h-t*u*d-e*f*d,-t*u*h-e*f*h-r*d,1],[f,-u,0,0,d*u,d*f,-h,0,u*h,f*h,d,0,t,e,r,1]]}else{throw new Error("a1 and b1 is required!")}}var A=function t(e,r){var n=[];for(var o=0;o<4;o++){for(var i=0;i<r.length/4;i++){n[i*4+o]=e[o]*r[i*4]+e[o+4]*r[i*4+1]+e[o+8]*r[i*4+2]+e[o+12]*r[i*4+3]}}return n};function M(t){var c=t||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];var l={move:function t(e,r,n,o){c=A(k(e,r,n,o),c);return l},rotate:function t(e,r,n,o,i,a,f){var u=j(r,n,o,i,a,f);c=A(A(A(u[1],P(e)),u[0]),c);return l},scale:function t(e,r,n,o,i,a){c=A(C(e,r,n,o,i,a),c);return l},multiply:function t(e,r){c=r?A(c,e):A(e,c);return l},use:function t(e,r,n,o){n=n||0;o=o||1;var i=A(c,[e,r,n,o]);i[0]=+i[0].toFixed(7);i[1]=+i[1].toFixed(7);i[2]=+i[2].toFixed(7);i[3]=+i[3].toFixed(7);return i},value:function t(){return c}};return l}var S=[];var N=13;var L=400;var O=null;function I(e,t,r){var u={timer:function t(e,r,n){if(!e){throw new Error("Tick is required!")}r=r||L;var o=(new Date).valueOf()+"_"+(Math.random()*1e3).toFixed(0);S.push({id:o,createTime:new Date,tick:e,duration:r,callback:n});u.start();return o},start:function t(){if(!O){O=setInterval(u.tick,N)}},tick:function t(){var e=void 0,r=void 0,t=void 0,n=void 0,o=void 0,i=void 0,a=void 0,f=S;S=[];S.length=0;for(r=0;r<f.length;r++){o=f[r];e=o.createTime;t=o.tick;i=o.duration;n=o.callback;a=(+new Date-e)/i;a=a>1?1:a;t(a);if(a<1&&o.id){S.push(o)}else if(n){n(a)}}if(S.length<=0){u.stop()}},stop:function t(){if(O){clearInterval(O);O=null}}};var n=u.timer(function(t){e(t)},t,r);return function(){var t=void 0;for(t in S){if(S[t].id==n){S[t].id=undefined;return}}}}var R=9007199254740991;function z(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=R}function F(t){return t!=null&&typeof t!="function"&&z(t.length)}function W(t){return F(t)&&!b(t)}function D(t,e){if(e){return W(t)}return Array.isArray(t)}function H(t,e){for(var r in e){try{t[r]=e[r]}catch(t){throw new Error("Illegal property valueÔºÅ")}}return t}function B(u){u=H({u:.5},u);var c=void 0,l=void 0,s=void 0;var d=function t(e){if(c){var r=(e-l)/(s-l),n=r*r,o=r*n;var i=o*c[0]+n*c[1]+r*c[2]+c[3];return i*(s-l)}else throw new Error("You shoud first set the position!")};d.setP=function(t,e,r,n,o,i){if(t<r){l=t;s=r;var a=u.u*o,f=u.u*i;e/=r-t;n/=r-t;c=[2*e-2*n+a+f,3*n-3*e-2*a-f,a,e]}else throw new Error("The point x-position should be increamented!");return d};return d}function G(e,t,r,n){if(!w(r)){n=r;r=false}var o={ease:[.25,.1,.5,1],"ease-in":[.5,0,.75,.6],"ease-in-out":[.43,.01,.58,1],"ease-out":[.25,.6,.5,1],linear:"default"}[n]||n;var i=function t(e){return e};if(o&&D(o)&&o.length==4){i=B({u:1}).setP(0,0,1,1,o[1]/o[0],(1-o[3])/(1-o[2]))}return I(function(t){e(i(t))},t,function(t){if(w(r)){if(t!=1)t=i(t);r(t)}})}function $(o){o=f({t:0},o);var i=void 0,r=void 0;var a=function t(e){if(i){r=-1;while(r+1<i.x.length&&(e>i.x[r+1]||r==-1&&e>=i.x[r+1])){r+=1}if(r==-1||r>=i.h.length)throw new Error("Coordinate crossing!");return i.h[r](e)}else{throw new Error("You shoud first set the position!")}};a.setT=function(t){if(typeof t==="number"){o.t=t}else{throw new Error("Expecting a figure!")}return a};a.setP=function(t){i={x:[],h:[]};var e=void 0,r=(t[1][1]-t[0][1])/(t[1][0]-t[0][0]),n=void 0;i.x[0]=t[0][0];for(e=1;e<t.length;e++){if(t[e][0]<=t[e-1][0])throw new Error("The point position should be increamented!");i.x[e]=t[e][0];n=e<t.length-1?(t[e+1][1]-t[e-1][1])/(t[e+1][0]-t[e-1][0]):(t[e][1]-t[e-1][1])/(t[e][0]-t[e-1][0]);i.h[e-1]=B({u:(1-o.t)*.5}).setP(t[e-1][0],t[e-1][1],t[e][0],t[e][1],r,n);r=n}return a};return a}function q(t,e){var r=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(t,null):t.currentStyle;return b(e)?r.getPropertyValue(e):r}var V=function t(e){var r=document.getElementsByTagName("head")[0];r.style["color"]=e;var n=q(r,"color");var o=n.replace(/^rgba?\(([^)]+)\)$/,"$1").split(new RegExp("\\,"+x.whitespace));return[+o[0],+o[1],+o[2],o[3]==undefined?1:+o[3]]};var U=function t(e){var r=[];for(var n=1;n<=e;n++){r.push("rgb("+(Math.random(1)*230+20).toFixed(0)+","+(Math.random(1)*230+20).toFixed(0)+","+(Math.random(1)*230+20).toFixed(0)+")")}return r};var K=function t(e,r){var n=s(e,r||document);if(n.length>0){for(var o=0;o<this.length;o++){n[0].appendChild(this[o])}}else{throw new Error("Target empty!")}return this};var X=function t(e,r){var n=s(e,r||document);if(n.length>0){for(var o=0;o<this.length;o++){n[0].insertBefore(this[o],n[0].childNodes[0])}}else{throw new Error("Target empty!")}return this};var Y=function t(e,r){var n=s(e,r||document);if(n.length>0){for(var o=0;o<this.length;o++){n[0].parentNode.insertBefore(this[o],n[0].nextSibling)}}else{throw new Error("Target empty!")}return this};var Q=function t(e,r){var n=s(e,r||document);if(n.length>0){for(var o=0;o<this.length;o++){n[0].parentNode.insertBefore(this[o],n[0])}}else{throw new Error("Target empty!")}return this};var Z=function t(){for(var e=0;e<this.length;e++){this[e].parentNode.removeChild(this[e])}return this};var J=function t(e){var r=[];for(var n=0;n<this.length;n++){if(e(n,T(this[n])))r.push(this[n])}return T(r)};var tt=function t(e){if(e){for(var r=0;r<this.length;r++){this[r].textContent=e}return this}if(this.length<=0)throw new Error("Target empty!");return this[0].textContent};function et(){if(arguments.length<=1&&(arguments.length<=0||It(arguments[0])!=="object")){if(this.length<=0)throw new Error("Target empty!");return q(this[0],arguments[0])}for(var t=0;t<this.length;t++){if(arguments.length===1){for(var e in arguments[0]){this[t].style[e]=arguments[0][e]}}else this[t].style[arguments[0]]=arguments[1]}return this}var rt=function t(e,r,n){if(/[a-z]/.test(e.tagName)&&u.indexOf(r)>=0){e.setAttributeNS(a.xlink,"xlink:"+r,n)}else e.setAttribute(r,n)};function nt(){if(arguments.length===1&&It(arguments[0])!=="object"){if(this.length<=0)throw new Error("Target empty!");return this[0].getAttribute(arguments[0])}else if(arguments.length>0){for(var t=0;t<this.length;t++){if(arguments.length===1){for(var e in arguments[0]){rt(this[t],e,arguments[0][e])}}else rt(this[t],arguments[0],arguments[1])}}return this}var ot=function t(e,r){if(arguments.length<=0){if(this.length<=0)throw new Error("Target empty!");return this[0].__data__}for(var n=0;n<this.length;n++){this[n].__data__=typeof r==="function"?r(e,n):e}return this};var it=function t(e,r){if(arguments.length<=0){var n=[];for(var o=0;o<this.length;o++){n[o]=this[o].__data__}return n}var i=[],a=void 0;for(a=0;a<this.length&&a<e.length;a++){this[a].__data__=typeof r==="function"?r(e[a],a):e[a];i.push(this[a])}var f=T(i);f.__enter__=[];for(;a<e.length;a++){f.__enter__.push(typeof r==="function"?r(e[a],a):e[a])}f.__exit__=[];for(;a<this.length;a++){f.__exit__.push(this[a])}return f};var at=function t(e,r){if(!this.__enter__||this.__enter__.constructor!==Array)throw new Error("Not a data node object to be balanced!");var n=[];for(var o=0;o<this.__enter__.length;o++){n[o]=_(e,r);n[o].__data__=this.__enter__[o]}delete this.__enter__;return T(n)};var ft=function t(){if(!this.__exit__||this.__exit__.constructor!==Array)throw new Error("Not a data node object to be balanced!");var e=T(this.__exit__);delete this.__exit__;return e};var ut=function t(e){for(var r=0;r<this.length;r++){e(this[r].__data__,r,T(this[r]))}return this};var ct=function t(e,r){if(window.attachEvent){for(var n=0;n<this.length;n++){this[n].attachEvent("on"+e,r)}}else{for(var o=0;o<this.length;o++){this[o].addEventListener(e,r,false)}}return this};var lt=function t(e){var r=this[0].getBoundingClientRect();if(!e||!e.clientX)throw new Error("Event is necessary!");return{x:e.clientX-r.left,y:e.clientY-r.top}};function st(t,e,r,n,o,i,a){if(e>Math.PI*2)e=Math.PI*2;if(e<-Math.PI*2)e=-Math.PI*2;if(e<0){t+=e;e*=-1}var f=[],u=void 0;u=E(0,0,t,o,0);f[0]=u[0];f[1]=u[1];u=E(0,0,e,u[0],u[1]);f[2]=u[0];f[3]=u[1];u=E(0,0,t,i,0);f[4]=u[0];f[5]=u[1];u=E(0,0,e,u[0],u[1]);f[6]=u[0];f[7]=u[1];a(t,t+e,f[0]+r,f[1]+n,f[4]+r,f[5]+n,f[2]+r,f[3]+n,f[6]+r,f[7]+n,(i-o)*.5)}var dt=function t(e,r,n,o,i){e.beginPath();e.translate(n,o);e.rotate(i);e.font=r["font-size"]+"px "+r["font-family"];return e};var ht=function t(s,d,h,p,v,g,e,r){st(e,r,h,p,v,g,function(t,e,r,n,o,i,a,f,u,c,l){if(l<0)l=-l;s.beginPath();s.moveTo(r,n);s.arc(h,p,v,t,e,false);if(d["arc-end-cap"]!="round")s.lineTo(u,c);else s.arc((a+u)*.5,(f+c)*.5,l,e-Math.PI,e,true);s.arc(h,p,g,e,t,true);if(d["arc-start-cap"]!="round")s.lineTo(r,n);else s.arc((r+o)*.5,(n+i)*.5,l,t,t-Math.PI,true)});return s};var pt=function t(e,r,n,o){e.beginPath();e.moveTo(r+o,n);e.arc(r,n,o,0,Math.PI*2);return e};var vt=function t(e,r,n,o,i){e.beginPath();e.rect(r,n,o,i);return e};var gt=function t(e,r,n,o,i){var a=e.createLinearGradient(r,n,o,i);var f={value:function t(){return a},addColorStop:function t(e,r){a.addColorStop(e,r);return f}};return f};var yt=function t(e,r,n,o){var i=e.createRadialGradient(r,n,0,r,n,o);var a={value:function t(){return i},addColorStop:function t(e,r){i.addColorStop(e,r);return a}};return a};function mt(l){var s=l.getContext("2d");var t=l.__image2D__layer__=="yes";var e=t?l.getAttribute("width"):l.clientWidth,r=t?l.getAttribute("height"):l.clientHeight;if(e==0||r==0){throw new Error("Canvas is hidden or size is zero!")}l.style.width=e+"px";l.style.height=r+"px";l.setAttribute("width",e*2);l.setAttribute("height",r*2);s.scale(2,2);s.textBaseline="middle";s.textAlign="left";var f={"font-size":"16","font-family":"sans-serif","arc-start-cap":"butt","arc-end-cap":"butt"};var d={config:function t(){if(arguments.length===1){if(It(arguments[0])!=="object")return s[arguments[0]];for(var e in arguments[0]){if(f[e])f[e]=arguments[0][e];else s[e]=arguments[0][e]}}else if(arguments.length===2){if(f[arguments[0]])f[arguments[0]]=arguments[1];else s[arguments[0]]=arguments[1]}return d},fillText:function t(e,r,n,o){s.save();dt(s,f,r,n,o||0).fillText(e,0,0);s.restore();return d},strokeText:function t(e,r,n,o){s.save();dt(s,f,r,n,o||0).strokeText(e,0,0);s.restore();return d},beginPath:function t(){s.beginPath();return d},closePath:function t(){s.closePath();return d},moveTo:function t(e,r){s.moveTo(e,r);return d},lineTo:function t(e,r){s.lineTo(e,r);return d},arc:function t(e,r,n,o,i){s.arc(e,r,n,o,o+i);return d},fill:function t(){s.fill();return d},stroke:function t(){s.stroke();return d},save:function t(){s.save();return d},restore:function t(){s.restore();return d},quadraticCurveTo:function t(e,r,n,o){s.quadraticCurveTo(e,r,n,o);return d},bezierCurveTo:function t(e,r,n,o,i,a){s.bezierCurveTo(e,r,n,o,i,a);return d},clearRect:function t(e,r,n,o){s.clearRect(e||0,r||0,n||l.getAttribute("width")/2,o||l.getAttribute("height")/2);return d},toDataURL:function t(){return l.toDataURL()},drawImage:function t(e,r,n,o,i,a,f,u,c){r=r||0;n=n||0;a=a||0;f=f||0;u=u?u*2:l.getAttribute("width");c=c?c*2:l.getAttribute("height");if(e.nodeName=="CANVAS"){u=u/2;c=c/2;o=o?o*2:l.getAttribute("width");i=i?i*2:l.getAttribute("height")}else{o=(o||e.width)*2;i=(i||e.height)*2}s.drawImage(e,r,n,o,i,a,f,u,c);return d},fillArc:function t(e,r,n,o,i,a){ht(s,f,e,r,n,o,i,a).fill();return d},strokeArc:function t(e,r,n,o,i,a){ht(s,f,e,r,n,o,i,a).stroke();return d},fillCircle:function t(e,r,n){pt(s,e,r,n).fill();return d},strokeCircle:function t(e,r,n){pt(s,e,r,n).stroke();return d},fillRect:function t(e,r,n,o){vt(s,e,r,n,o).fill();return d},strokeRect:function t(e,r,n,o){vt(s,e,r,n,o).stroke();return d},createLinearGradient:function t(e,r,n,o){return gt(s,e,r,n,o)},createRadialGradient:function t(e,r,n){return yt(s,e,r,n)},translate:function t(e,r){s.translate(e,r);return d},rotate:function t(e){s.rotate(e);return d},scale:function t(e,r){r=r||e;s.scale(e,r);return d}};return d}function wt(t,e){if(t==="textAlign"){return{left:"start",right:"end",center:"middle"}[e]||e}return e}var bt=function t(e,r,n,o,i){if(!m(e[0]))throw new Error("Target empty!");if(e[0].nodeName.toLowerCase()!=="text")throw new Error("Need a <text> !");e.attr("dy",{top:r["font-size"]*.5,middle:0,bottom:-r["font-size"]*.5}[r.textBaseline]).css({"text-anchor":r.textAlign,"dominant-baseline":"central","font-size":r["font-size"]+"px","font-family":r["font-family"]}).attr({x:n,y:o});return{transform:"rotate("+i*180/Math.PI+","+n+","+o+")"}};var xt=function t(h,p,e,r,v,g,n,o){if(h[0].nodeName.toLowerCase()!=="path")throw new Error("Need a <path> !");st(n,o,e,r,v,g,function(t,e,r,n,o,i,a,f,u,c,l){var s=e-t>Math.PI?1:0,d="M"+r+" "+n;if(l<0)l=-l;d+="A"+v+" "+v+" 0 "+s+" 1 "+a+" "+f;if(p["arc-end-cap"]!="round")d+="L"+u+" "+c;else d+="A"+l+" "+l+" "+" 0 1 0 "+u+" "+c;d+="A"+g+" "+g+" 0 "+s+" 0 "+o+" "+i;if(p["arc-start-cap"]!="round")d+="L"+r+" "+n;else d+="A"+l+" "+l+" "+" 0 1 0 "+r+" "+n;h.attr("d",d)});return h};var _t=function t(e,r,n,o){if(!e||e.length<=0||e[0].nodeName.toLowerCase()!=="circle")throw new Error("Need a <circle> !");e.attr({cx:r,cy:n,r:o});return e};var Tt=function t(e,r){if(!e||e.length<=0||e[0].nodeName.toLowerCase()!=="path")throw new Error("Need a <path> !");e.attr("d",r);return e};var Et=function t(e,r,n,o,i){if(!e||e.length<=0||e[0].nodeName.toLowerCase()!=="rect")throw new Error("Need a <rect> !");e.attr({x:r,y:n,width:o,height:i});return e};var kt=function t(e){var r=e.getElementsByTagName("defs");if(r.length<=0){r=[_("<defs>","SVG")];e.appendChild(r[0])}return r[0]};var Pt=function t(e,r,n,o,i,a){var f=kt(r);var u="image2D-lg-"+(new Date).valueOf()+"-"+Math.random();var c=_('<linearGradient id="'+u+'" x1="'+n+'%" y1="'+o+'%" x2="'+i+'%" y2="'+a+'%"></linearGradient>');f.appendChild(c);var l={value:function t(){return"url(#"+u+")"},addColorStop:function t(e,r){c.appendChild(_('<stop offset="'+e*100+'%" style="stop-color:'+r+';" />'));return l}};return l};var Ct=function t(e,r,n,o,i){var a=kt(r);var f="image2D-rg-"+(new Date).valueOf()+"-"+Math.random();var u=_('<radialGradient id="'+f+'" cx="'+n+'%" cy="'+o+'%" r="'+i+'%"></radialGradient>');a.appendChild(u);var c={value:function t(){return"url(#"+f+")"},addColorStop:function t(e,r){u.appendChild(_('<stop offset="'+e*100+'%" style="stop-color:'+r+';" />'));return c}};return c};function jt(i,t){var f=void 0;if(t)f=T(t,i);var u={fillStyle:"#000",strokeStyle:"#000",lineWidth:1,textAlign:"start",textBaseline:"middle","font-size":"16","font-family":"sans-serif","arc-start-cap":"butt","arc-end-cap":"butt"};var c="",l=[];var e=[],s="";var d={config:function t(){if(arguments.length===1){if(It(arguments[0])!=="object")return u[arguments[0]];for(var e in arguments[0]){u[e]=wt(e,arguments[0][e])}}else if(arguments.length===2)u[arguments[0]]=wt(arguments[0],arguments[1]);return d},bind:function t(e){f=T(e,i);return d},appendTo:function t(e){f.appendTo(e||i,i);return d},prependTo:function t(e){f.prependTo(e||i,i);return d},afterTo:function t(e){f.afterTo(e||i,i);return d},beforeTo:function t(e){f.beforeTo(e||i,i);return d},beginPath:function t(){c="";l=[];return d},closePath:function t(){c+="Z";return d},moveTo:function t(e,r){c+="M"+e+" "+r;l=[e,r];return d},lineTo:function t(e,r){c+=(c==""?"M":"L")+e+" "+r;l=[e,r];return d},arc:function t(e,r,n,o,i){var a=E(e,r,o,e+n,r);var f=E(e,r,o+i,e+n,r);o=o/Math.PI*180;i=i/Math.PI*180;if(c==""){c+="M"+a[0]+","+a[1]}else if(a[0]!=l[0]||a[1]!=l[1]){c+="L"+a[0]+","+a[1]}c+="A"+n+","+n+" 0 "+(i>180||i<-180?1:0)+","+(i>0?1:0)+" "+f[0]+","+f[1];return d},fill:function t(){Tt(f,c).attr("transform",s).attr("fill",u.fillStyle);return d},stroke:function t(){Tt(f,c).attr("transform",s).attr({"stroke-width":u.lineWidth,stroke:u.strokeStyle,fill:"none"});return d},save:function t(){e.push(s);return d},restore:function t(){if(e.length>0)s=e.pop();return d},quadraticCurveTo:function t(e,r,n,o){c+="Q"+e+" "+r+","+n+" "+o;return d},bezierCurveTo:function t(e,r,n,o,i,a){c+="C"+e+" "+r+","+n+" "+o+","+i+" "+a;return d},fillText:function t(e,r,n,o){var i=bt(f,u,r,n,o||0);f.attr("transform",s+i.transform).attr("fill",u.fillStyle)[0].textContent=e;return d},strokeText:function t(e,r,n,o){var i=bt(f,u,r,n,o||0);f.attr("transform",s+i.transform).attr({stroke:u.strokeStyle,fill:"none"})[0].textContent=e;return d},fillArc:function t(e,r,n,o,i,a){xt(f,u,e,r,n,o,i,a).attr("transform",s).attr("fill",u.fillStyle);return d},strokeArc:function t(e,r,n,o,i,a){xt(f,u,e,r,n,o,i,a).attr("transform",s).attr({"stroke-width":u.lineWidth,stroke:u.strokeStyle,fill:"none"});return d},fillCircle:function t(e,r,n){_t(f,e,r,n).attr("transform",s).attr("fill",u.fillStyle);return d},strokeCircle:function t(e,r,n){_t(f,e,r,n).attr("transform",s).attr({"stroke-width":u.lineWidth,stroke:u.strokeStyle,fill:"none"});return d},fillRect:function t(e,r,n,o){Et(f,e,r,n,o).attr("transform",s).attr("fill",u.fillStyle);return d},strokeRect:function t(e,r,n,o){Et(f,e,r,n,o).attr("transform",s).attr({"stroke-width":u.lineWidth,stroke:u.strokeStyle,fill:"none"});return d},createLinearGradient:function t(e,r,n,o){return Pt(f,i,e,r,n,o)},createRadialGradient:function t(e,r,n){return Ct(f,i,e,r,n)},translate:function t(e,r){s+=" translate("+e+","+r+")";return d},rotate:function t(e){s+=" rotate("+e/Math.PI*180+")";return d},scale:function t(e,r){r=r||e;s+=" scale("+e+","+r+")";return d}};return d}function At(){if(!m(this[0]))throw new Error("Target empty!");var t=this[0],e=t.nodeName.toLowerCase();if(e==="canvas")return mt(t);if(e==="svg")return jt(t,arguments[0]);throw new Error("Painter is not a function!")}var Mt=function t(e){return e&&e.constructor===CanvasRenderingContext2D};function St(){if(!m(this[0]))throw new Error("Target empty!");if(this[0].nodeName.toLowerCase()!=="canvas")throw new Error("Layer is not a function!");var r=this.painter(),n={},o=[];var i=this[0].clientWidth,a=this[0].clientHeight;var f={painter:function t(e){if(!n[e]||!Mt(n[e].painter)){n[e]={visible:true};n[e].canvas=document.createElement("canvas");n[e].canvas.setAttribute("width",i);n[e].canvas.setAttribute("height",a);n[e].canvas.__image2D__layer__="yes";n[e].painter=T(n[e].canvas).painter();o.push(e)}return n[e].painter},delete:function t(e){for(var r=0;r<o.length;r++){if(o[r]===e){o.splice(r,1);break}}delete n[e];return f},update:function t(){r.clearRect(0,0,i,a);r.save();for(var e=0;e<o.length;e++){if(n[o[e]].visible)r.drawImage(n[o[e]].canvas,0,0,i,a,0,0,i,a)}r.restore();return f},hidden:function t(e){n[e].visible=false;return f},show:function t(e){n[e].visible=true;return f}};return f}T.extend({treeLayout:v,pieLayout:y,Matrix4:M,rotate:E,move:d,scale:h,dot:p,animation:G,cardinal:$,formatColor:V,getRandomColors:U});T.prototype.extend({appendTo:K,prependTo:X,afterTo:Y,beforeTo:Q,remove:Z,filter:J,text:tt,css:et,attr:nt,datum:ot,data:it,enter:at,exit:ft,loop:ut,bind:ct,position:lt,painter:At,layer:St});T.fn=T.prototype;if(It(Ot)==="object"&&It(Ot.exports)==="object"){Ot.exports=T}else{var Nt=window.image2D,Lt=window.$$;T.noConflict=function(t){if(window.$$===T){window.$$=Lt}if(t&&window.image2D===T){window.image2D=Nt}return T};window.image2D=window.$$=T}})()});var h={size:function t(e,r){var n,o;if(r=="content"){var i=d(e);o=e.clientWidth-(i.css("padding-left")+"").replace("px","")-(i.css("padding-right")+"").replace("px","");n=e.clientHeight-(i.css("padding-top")+"").replace("px","")-(i.css("padding-bottom")+"").replace("px","")}else if(r=="padding"){o=e.clientWidth;n=e.clientHeight}else if(r=="border"){o=e.offsetWidth;n=e.offsetHeight}else if(r=="scroll"){o=e.scrollWidth;n=e.scrollHeight}else{o=e.offsetWidth;n=e.offsetHeight}return{width:o,height:n}},trigger:function t(e,r){var n;if(document.createEventObject){n=document.createEventObject();e.fireEvent("on"+r,n)}else{n=document.createEvent("HTMLEvents");n.initEvent(r,true,false);e.dispatchEvent(n)}},textWidth:function t(e,r){e[0].innerText=r;return+this.size(e[0]).width}};function p(t,e,r,n){var o=d("<span></span>").css({position:"absolute","z-index":"-1","white-space":"pre",top:0,left:0,"font-weight":600}).appendTo(t);var i=d("<textarea></textarea>").attr({wrap:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"}).css({position:"absolute",width:"20px",height:"21px","line-height":"21px",resize:"none",overflow:"hidden",padding:"0",outline:"none",border:"none",background:"#ff000000",color:e.normal}).appendTo(t);d(t).css({"font-size":"12px",position:"relative",cursor:"text","font-family":"Êñ∞ÂÆã‰Ωì",background:e.background}).bind("click",function(){i[0].focus()});var a=d("<div></div>").css({padding:"10px 0"}).appendTo(t);return{focus:i,content:a,help:o}}var v=function t(e,r,n){if(/^\n$/.test(n)){var o=+e.css("top").replace("px","");e.css("top",o+21+"px");e.css("left","40px")}else{var i=+e.css("left").replace("px","");var a=h.textWidth(r,n);e.css("left",i+a+"px")}};function g(t,e,n,o){var i="";e.forEach(function(t,e){var r="";if(e==o){r="background-color:"+n.editLine}i+="<div style='line-height:21px;height:21px;"+r+"'>";i+="<em style='color:"+n.lineNum+";user-select: none;display:inline-block;font-style:normal;width:35px;text-align:right;margin-right:5px;'>"+(e+1)+"</em>";t.forEach(function(t){i+="<span style='font-weight:600;white-space: pre;color:"+t.color+"'>"+t.content+"</span>"});i+="</div>"});t[0].innerHTML=i}var y=(t={48:[0,")"],49:[1,"!"],50:[2,"@"],51:[3,"#"],52:[4,"$"],53:[5,"%"],54:[6,"^"],55:[7,"&"],56:[8,"*"],57:[9,"("],96:[0,0],97:1,98:2,99:3,100:4,101:5,102:6,103:7,104:8,105:9,106:"*",107:"+",109:"-",110:".",111:"/",65:["a","A"],66:["b","B"],67:["c","C"],68:["d","D"],69:["e","E"],70:["f","F"],71:["g","G"],72:["h","H"],73:["i","I"],74:["j","J"],75:["k","K"],76:["l","L"],77:["m","M"],78:["n","N"],79:["o","O"],80:["p","P"],81:["q","Q"],82:["r","R"],83:["s","S"],84:["t","T"],85:["u","U"],86:["v","V"],87:["w","W"],88:["x","X"],89:["y","Y"],90:["z","Z"],37:"left",38:"up",39:"right",40:"down",33:"page up",34:"page down",35:"end",36:"home",16:"shift",17:"ctrl",18:"alt",91:"command",92:"command",93:"command",9:"tab",20:"caps lock",32:"spacebar",8:"backspace",13:"enter",27:"esc",46:"delete",45:"insert",144:"number lock",145:"scroll lock",12:"clear"},_defineProperty(t,"45","insert"),_defineProperty(t,19,"pause"),_defineProperty(t,112,"f1"),_defineProperty(t,113,"f2"),_defineProperty(t,114,"f3"),_defineProperty(t,115,"f4"),_defineProperty(t,116,"f5"),_defineProperty(t,117,"f6"),_defineProperty(t,118,"f7"),_defineProperty(t,119,"f8"),_defineProperty(t,120,"f9"),_defineProperty(t,121,"f10"),_defineProperty(t,122,"f11"),_defineProperty(t,123,"f12"),_defineProperty(t,189,["-","_"]),_defineProperty(t,187,["=","+"]),_defineProperty(t,219,["[","{"]),_defineProperty(t,221,["]","}"]),_defineProperty(t,220,["\\","|"]),_defineProperty(t,186,[";",":"]),_defineProperty(t,222,["'",'"']),_defineProperty(t,188,[",","<"]),_defineProperty(t,190,[".",">"]),_defineProperty(t,191,["/","?"]),_defineProperty(t,192,["`","~"]),t);var m=["shift","ctrl","alt"];function w(t){t=t||window.event;var e=t.keyCode||t.which;var r=y[e]||e;if(!r)return;if(r.constructor!==Array)r=[r,r];var n=t.shiftKey?"shift+":"",o=t.altKey?"alt+":"",i=t.ctrlKey?"ctrl+":"";var a="",f=i+n+o;if(m.indexOf(r[0])>=0){r[0]=r[1]=""}var u=t.code=="Key"+t.key&&!n;a=f+(f==""&&u?r[1]:r[0]);if(r[0]==""){a=a.replace(/\+$/,"")}return a}function b(t,o,i,a){var e=true,f=a.length-1,u=a[a.length-1].length;var c=p(t,i,f,a[a.length-1]);c.focus.css({left:40+h.textWidth(c.help,a[a.length-1])+"px",top:10+f*21+"px"});c.focus[0].focus();var l=[];var r=function t(){var e=c.focus[0].value;c.focus[0].value="";v(c.focus,c.help,e);if(/^\n$/.test(e)){if(u>=a[f].length){a.splice(f+1,0,"")}else{a.splice(f+1,0,a[f].substring(u));a[f]=a[f].substring(0,u)}f+=1;u=0}else{a[f]=a[f].substring(0,u)+e+a[f].substring(u);u+=e.length}l=o(a.join("\n"),i);g(c.content,l,i,f)};r();c.focus.bind("format",function(){l=o(text,i,true);g(c.content,l,i,f)});c.focus.bind("compositionstart",function(){e=false});c.focus.bind("compositionend",function(){e=true;r()});c.focus.bind("input",function(){if(!e)return;r()});d(t).bind("keydown",function(t){console.log(w(t));switch(w(t)){case"up":{if(f<=0)return;f-=1;u=a[f].length;c.focus.css({left:40+h.textWidth(c.help,a[f])+"px",top:10+f*21+"px"});g(c.content,l,i,f);break}case"down":{if(f>=a.length-1)return;f+=1;u=a[f].length;c.focus.css({left:40+h.textWidth(c.help,a[f])+"px",top:10+f*21+"px"});g(c.content,l,i,f);break}case"left":{if(u<=0)return;u-=1;var e=c.focus.css("left").replace("px","")-h.textWidth(c.help,a[f][u]);c.focus.css("left",e+"px");break}case"right":{if(u>=a[f].length)return;u+=1;var r=c.focus.css("left").replace("px","")- -h.textWidth(c.help,a[f][u-1]);c.focus.css("left",r+"px");break}case"backspace":{if(u<=0){if(f<=0)return;a.splice(f,1);f-=1;u=a[f].length;c.focus.css({left:40+h.textWidth(c.help,a[f])+"px",top:10+f*21+"px"})}else{u-=1;var n=c.focus.css("left").replace("px","")-h.textWidth(c.help,a[f][u]);c.focus.css("left",n+"px");a[f]=a[f].substring(0,u)+a[f].substring(u+1)}l=o(a.join("\n"),i);g(c.content,l,i,f);break}}});return c}var x=function t(e){l(e);var r=b(e.el,e.format,e.color,e.textArray);this.format=function(){h.trigger(r.focus[0],"format")};this.valueOf=function(){return e.textArray.join("\n")}};if((typeof module==="undefined"?"undefined":_typeof2(module))==="object"&&_typeof2(module.exports)==="object"){module.exports=x}else{window.WSCode=x}})();