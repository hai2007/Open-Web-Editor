/*!
* web Studio Code - 🎉 An Editor Used on the Browser Side.
* git+https://github.com/yelloxing/Web-Studio-Code.git
*
* author 心叶
*
* version 1.5.5
*
* build Fri May 08 2020
*
* Copyright yelloxing
* Released under the MIT license
*
* Date:Tue May 26 2020 11:54:36 GMT+0800 (GMT+08:00)
*/

"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(!e)return;if(typeof e==="string")return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor)n=e.constructor.name;if(n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(e,t)}function _iterableToArray(e){if(typeof Symbol!=="undefined"&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){if(t==null||t>e.length)t=e.length;for(var n=0,r=new Array(t);n<t;n++){r[n]=e[n]}return r}function _defineProperty(e,t,n){if(t in e){Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true})}else{e[t]=n}return e}function _typeof(e){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function e(t){return typeof t}}else{_typeof=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return _typeof(e)}(function(){"use strict";var e;var t=Object.prototype.toString;function n(e){if(e==null){return e===undefined?"[object Undefined]":"[object Null]"}return t.call(e)}function r(e){if(e===null||_typeof(e)!=="object"||n(e)!="[object Object]"){return false}if(Object.getPrototypeOf(e)===null){return true}var t=e;while(Object.getPrototypeOf(t)!==null){t=Object.getPrototypeOf(t)}return Object.getPrototypeOf(e)===t}function s(e){return e!==null&&_typeof(e)==="object"&&(e.nodeType===1||e.nodeType===9||e.nodeType===11)&&!r(e)}function u(e){var t=_typeof(e);return t==="string"||t==="object"&&e!=null&&!Array.isArray(e)&&n(e)==="[object String]"}function o(e){var t=_typeof(e);return e!=null&&(t==="object"||t==="function")}function a(e){if(!o(e)){return false}var t=n(e);return t==="[object Function]"||t==="[object AsyncFunction]"||t==="[object GeneratorFunction]"||t==="[object Proxy]"}function i(e){this.__helpDOM.innerText=e;return this.__helpDOM.offsetWidth}function l(e,t){if(arguments.length<2)t=t||this.__lineNum;var n=this._contentArray[t];if(e<=40)return 0;if(e-40>=this.$$textWidth(n))return n.length;var r=e-40,o=1;for(;o<n.length;o++){var i=Math.abs(e-40-this.$$textWidth(n.substr(0,o)));if(i>r)break;r=i}return o-1}function c(e,t){return{x:this.$$textWidth(this._contentArray[t].substr(0,e)),y:t*21}}function _(){return this.__cursor1.lineNum!=this.__cursor2.lineNum||this.__cursor1.leftNum!=this.__cursor2.leftNum}var f={stopPropagation:function e(t){t=t||window.event;if(t.stopPropagation){t.stopPropagation()}else{t.cancelBubble=true}},preventDefault:function e(t){t=t||window.event;if(t.preventDefault){t.preventDefault()}else{t.returnValue=false}},bind:function e(t,n,r){if(window.attachEvent){t.attachEvent("on"+n,r)}else{t.addEventListener(n,r,false)}},trigger:function e(t,n){var r;if(document.createEventObject){r=document.createEventObject();t.fireEvent("on"+n,r)}else{r=document.createEvent("HTMLEvents");r.initEvent(n,true,false);t.dispatchEvent(r)}},toNode:function e(t){var n=document.createElement("div");n.innerHTML=t;var r=n.childNodes;for(var o=0;o<r.length;o++){if(s(r[o]))return r[o]}return null},appendTo:function e(t,n){var r=s(n)?n:this.toNode(n);t.appendChild(r);return r},css:function e(t,n){for(var r in n){t.style[r]=n[r]}},attr:function e(t,n){for(var r in n){t.setAttribute(r,n[r])}},position:function e(t,n){n=n||window.event;var r=t.getBoundingClientRect();if(!n||!n.clientX)throw new Error("Event is necessary!");var o={x:n.clientX-r.left+t.scrollLeft,y:n.clientY-r.top+t.scrollTop};return o},copy:function e(t){var n=this.appendTo(document.body,"<textarea>"+t+"</textarea>");n.select();try{var r=window.document.execCommand("copy",false,null);if(r){}else{}}catch(e){console.error(e)}document.body.removeChild(n)}};function h(){var e=this;this._el.innerHTML="";f.css(this._el,{"font-size":"12px",position:"relative",cursor:"text","font-family":this._fontFamily,background:this._colorBackground,overflow:"auto"});f.bind(this._el,"click",function(){e.__focusDOM.focus()});this.__helpDOM=f.appendTo(this._el,"<span></span>");f.css(this.__helpDOM,{position:"absolute","z-index":"-1","white-space":"pre",top:0,left:0,"font-weight":this._fontWeight});this.__focusDOM=f.appendTo(this._el,"<textarea></textarea>");f.css(this.__focusDOM,{position:"absolute",width:"6px","margin-top":"3px",height:"15px","line-height":"15px",resize:"none",overflow:"hidden",padding:"0",outline:"none",border:"none",background:"rgba(0,0,0,0)",color:this._colorCursor});f.attr(this.__focusDOM,{wrap:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"});this.__showDOM=f.appendTo(this._el,"<div></div>");f.css(this.__showDOM,{padding:"10px 0"});this.__selectCanvas=f.appendTo(this._el,"<canvas></canvas>");f.css(this.__selectCanvas,{position:"absolute",left:"40px",top:"10px"});this.$$updateCanvasSize(1,1)}function p(){f.css(this.__focusDOM,{left:40+this.$$textWidth(this._contentArray[this.__lineNum])+"px",top:10+this.__lineNum*21+"px"});this.__focusDOM.focus()}function m(){var r=this;var o="";this.__formatData.forEach(function(e,t){var n="";if(t==r.__lineNum){n="background-color:"+r._colorEdit}o+="<div style='min-width: fit-content;white-space: nowrap;line-height:21px;height:21px;"+n+"'>";o+="<em style='color:"+r._colorNumber+";user-select: none;display:inline-block;font-style:normal;width:35px;text-align:right;margin-right:5px;'>"+(t+1)+"</em>";e.forEach(function(e){var t=e.content;t=t.replace(/\&/g,"&amp;");t=t.replace(/</g,"&lt;");t=t.replace(/>/g,"&gt;");o+="<span style='user-select: none;font-weight:"+r._fontWeight+";white-space: pre;color:"+e.color+"'>"+t+"</span>"});o+="</div>"});this.__showDOM.innerHTML=o}function d(){var l=this;var s=this.__selectCanvas.getContext("2d");s.fillStyle=this._colorSelect;s.clearRect(0,0,this.__selectCanvas.scrollWidth,this.__selectCanvas.scrollHeight);var e=function e(t,n,r){var o=l.$$calcCanvasXY(t,r);var i=l.$$calcCanvasXY(n,r);s.fillRect(o.x,o.y,i.x-o.x,21)};if(this.__cursor1.lineNum==this.__cursor2.lineNum&&this.__cursor1.leftNum==this.__cursor2.leftNum)return;s.beginPath();if(this.__cursor1.lineNum==this.__cursor2.lineNum){e(this.__cursor1.leftNum,this.__cursor2.leftNum,this.__cursor1.lineNum)}else{var t,n;if(this.__cursor1.lineNum<this.__cursor2.lineNum){t=this.__cursor1;n=this.__cursor2}else{t=this.__cursor2;n=this.__cursor1}e(t.leftNum,this._contentArray[t.lineNum].length,t.lineNum);e(0,n.leftNum,n.lineNum);for(var r=t.lineNum+1;r<n.lineNum;r++){e(0,this._contentArray[r].length,r)}}}function y(){f.css(this.__focusDOM,{top:this.__lineNum*21+10+"px",left:40+this.$$textWidth(this._contentArray[this.__lineNum].substring(0,this.__leftNum))+"px"})}function g(e,t){if(arguments.length<2){e=this._el.scrollWidth-40;t=this._el.scrollHeight-10}f.css(this.__selectCanvas,{width:e+"px",height:t+"px"});f.attr(this.__selectCanvas,{width:e,height:t})}function N(){this.$$updateCanvasSize(1,1);this.__cursor1={leftNum:0,lineNum:0};this.__cursor2={leftNum:0,lineNum:0}}function v(){var e=this.__cursor2,t=this.__cursor1;if(this.__cursor1.lineNum<this.__cursor2.lineNum){e=this.__cursor1;t=this.__cursor2}else if(this.__cursor1.lineNum==this.__cursor2.lineNum){if(this.__cursor1.leftNum<this.__cursor2.leftNum){e=this.__cursor1;t=this.__cursor2}}var n=this._contentArray[e.lineNum].substr(0,e.leftNum)+this._contentArray[t.lineNum].substr(t.leftNum);this._contentArray.splice(e.lineNum,t.lineNum-e.lineNum+1,n);this.__leftNum=this.__cursor1.leftNum=this.__cursor2.leftNum=e.leftNum;this.__lineNum=this.__cursor1.lineNum=this.__cursor2.lineNum=e.lineNum;this.$$cancelSelect()}var b=(e={48:[0,")"],49:[1,"!"],50:[2,"@"],51:[3,"#"],52:[4,"$"],53:[5,"%"],54:[6,"^"],55:[7,"&"],56:[8,"*"],57:[9,"("],96:[0,0],97:1,98:2,99:3,100:4,101:5,102:6,103:7,104:8,105:9,106:"*",107:"+",109:"-",110:".",111:"/",65:["a","A"],66:["b","B"],67:["c","C"],68:["d","D"],69:["e","E"],70:["f","F"],71:["g","G"],72:["h","H"],73:["i","I"],74:["j","J"],75:["k","K"],76:["l","L"],77:["m","M"],78:["n","N"],79:["o","O"],80:["p","P"],81:["q","Q"],82:["r","R"],83:["s","S"],84:["t","T"],85:["u","U"],86:["v","V"],87:["w","W"],88:["x","X"],89:["y","Y"],90:["z","Z"],37:"left",38:"up",39:"right",40:"down",33:"page up",34:"page down",35:"end",36:"home",16:"shift",17:"ctrl",18:"alt",91:"command",92:"command",93:"command",9:"tab",20:"caps lock",32:"spacebar",8:"backspace",13:"enter",27:"esc",46:"delete",45:"insert",144:"number lock",145:"scroll lock",12:"clear"},_defineProperty(e,"45","insert"),_defineProperty(e,19,"pause"),_defineProperty(e,112,"f1"),_defineProperty(e,113,"f2"),_defineProperty(e,114,"f3"),_defineProperty(e,115,"f4"),_defineProperty(e,116,"f5"),_defineProperty(e,117,"f6"),_defineProperty(e,118,"f7"),_defineProperty(e,119,"f8"),_defineProperty(e,120,"f9"),_defineProperty(e,121,"f10"),_defineProperty(e,122,"f11"),_defineProperty(e,123,"f12"),_defineProperty(e,189,["-","_"]),_defineProperty(e,187,["=","+"]),_defineProperty(e,219,["[","{"]),_defineProperty(e,221,["]","}"]),_defineProperty(e,220,["\\","|"]),_defineProperty(e,186,[";",":"]),_defineProperty(e,222,["'",'"']),_defineProperty(e,188,[",","<"]),_defineProperty(e,190,[".",">"]),_defineProperty(e,191,["/","?"]),_defineProperty(e,192,["`","~"]),e);var $=["shift","ctrl","alt"];function w(e){e=e||window.event;var t=e.keyCode||e.which;var n=b[t]||t;if(!n)return;if(n.constructor!==Array)n=[n,n];var r=e.shiftKey?"shift+":"",o=e.altKey?"alt+":"",i=e.ctrlKey?"ctrl+":"";var l="",s=i+r+o;if($.indexOf(n[0])>=0){n[0]=n[1]=""}var u=e.code=="Key"+e.key&&!r;l=s+(s==""&&u?n[1]:n[0]);if(n[0]==""){l=l.replace(/\+$/,"")}return l}function A(){var l=this;var t=false;var n=function e(t){var n=f.position(l._el,t);var r=Math.round((n.y-20.5)/21);if(r<0)r=0;if(r>=l._contentArray.length)r=l._contentArray.length-1;return{leftNum:l.$$bestLeftNum(n.x,r),lineNum:r}};var s=function e(){var t=l.__cursor2,n=l.__cursor1;if(l.__cursor1.lineNum<l.__cursor2.lineNum){t=l.__cursor1;n=l.__cursor2}else if(l.__cursor1.lineNum==l.__cursor2.lineNum){if(l.__cursor1.leftNum<l.__cursor2.leftNum){t=l.__cursor1;n=l.__cursor2}return l._contentArray[t.lineNum].substring(t.leftNum,n.leftNum)}var r="";r+=l._contentArray[t.lineNum].substr(t.leftNum)+"\n";for(var o=t.lineNum+1;o<n.lineNum;o++){r+=l._contentArray[o]+"\n"}r+=l._contentArray[n.lineNum].substr(0,n.leftNum);return r};f.bind(document,"mousedown",function(e){t=true;l.__cursor2=l.__cursor1=n(e);l.$$updateCanvasSize();l.$$updateSelectView()});f.bind(document,"mousemove",function(e){if(!t)return;l.__cursor2=n(e);l.$$updateSelectView()});f.bind(document,"mouseup",function(){return t=false});f.bind(document,"mouseout",function(){return t=false});f.bind(this._el,"click",function(e){var t=f.position(l._el,e);var n=Math.round((t.y-20.5)/21);if(n<0||n>=l._contentArray.length)return;l.__lineNum=n;l.__leftNum=l.$$bestLeftNum(t.x);l.$$updateCursorPosition();l.$$updateView()});var u=function e(t){t=t||l.__focusDOM.value;l.__focusDOM.value="";if(l.$$selectIsNotBlank())l.$$deleteSelect();if(/^\n$/.test(t)){if(l.__leftNum>=l._contentArray[l.__lineNum].length){l._contentArray.splice(l.__lineNum+1,0,"")}else{l._contentArray.splice(l.__lineNum+1,0,l._contentArray[l.__lineNum].substring(l.__leftNum));l._contentArray[l.__lineNum]=l._contentArray[l.__lineNum].substring(0,l.__leftNum)}l.__lineNum+=1;l.__leftNum=0}else{var n=t.split(/\n/);if(n.length<=1){l._contentArray[l.__lineNum]=l._contentArray[l.__lineNum].substring(0,l.__leftNum)+t+l._contentArray[l.__lineNum].substring(l.__leftNum);l.__leftNum+=t.length}else{var r;var o=l._contentArray[l.__lineNum].substring(0,l.__leftNum);var i=l._contentArray[l.__lineNum].substring(l.__leftNum);n[0]=o+n[0];n[n.length-1]+=i;(r=l._contentArray).splice.apply(r,[l.__lineNum,1].concat(_toConsumableArray(n)));l.__lineNum+=n.length-1;l.__leftNum=n[n.length-1].length-i.length}}l.__formatData=l.$shader(l._contentArray.join("\n"),l._langColors);l.$$updateCursorPosition();l.$$updateView()};f.bind(this.__focusDOM,"compositionstart",function(){l.__needUpdate=false;l.__focusDOM.style.color="rgba(0,0,0,0)";l.__focusDOM.style.borderLeft="1px solid "+l._colorCursor});f.bind(this.__focusDOM,"compositionend",function(){l.__needUpdate=true;l.__focusDOM.style.color=l._colorCursor;l.__focusDOM.style.borderLeft="none";u()});f.bind(this.__focusDOM,"input",function(){if(l.__needUpdate)u()});f.bind(this._el,"keydown",function(e){switch(w(e)){case"ctrl+a":{l.__cursor1={leftNum:0,lineNum:0};l.__cursor2={lineNum:l._contentArray.length-1,leftNum:l._contentArray[l._contentArray.length-1].length};l.$$updateSelectView()}case"ctrl+c":{if(l.$$selectIsNotBlank()){f.copy(s());l.__focusDOM.focus()}break}case"ctrl+x":{if(l.$$selectIsNotBlank()){f.copy(s());l.__focusDOM.focus();l.$$deleteSelect();l.__formatData=l.$shader(l._contentArray.join("\n"),l._langColors);l.$$updateCursorPosition();l.$$updateView();l.$$cancelSelect()}break}case"tab":{f.stopPropagation(e);f.preventDefault(e);var t="";for(var n=0;n<l._tabSpace;n++){t+=" "}if(l.$$selectIsNotBlank()){var r=l.__cursor1.lineNum,o=l.__cursor2.lineNum;if(r>o){r=l.__cursor2.lineNum;o=l.__cursor1.lineNum}for(var i=r;i<=o;i++){l._contentArray[i]=t+l._contentArray[i]}l.__cursor1.leftNum+=l._tabSpace;l.__cursor2.leftNum+=l._tabSpace;l.__leftNum+=l._tabSpace;l.__formatData=l.$shader(l._contentArray.join("\n"),l._langColors);l.$$updateCursorPosition();l.$$updateView();l.$$updateCanvasSize();l.$$updateSelectView()}else{u(t)}break}case"up":{if(l.__lineNum<=0)return;l.__lineNum-=1;l.__leftNum=l.$$bestLeftNum(l.$$textWidth(l._contentArray[l.__lineNum+1].substr(0,l.__leftNum))+40);l.$$updateCursorPosition();l.$$updateView();l.$$cancelSelect();l._el.scrollTop-=21;break}case"down":{if(l.__lineNum>=l._contentArray.length-1)return;l.__lineNum+=1;l.__leftNum=l.$$bestLeftNum(l.$$textWidth(l._contentArray[l.__lineNum-1].substr(0,l.__leftNum))+40);l.$$updateCursorPosition();l.$$updateView();l.$$cancelSelect();l._el.scrollTop+=21;break}case"left":{if(l.__leftNum<=0){if(l.__lineNum<=0)return;l.__lineNum-=1;l.__leftNum=l._contentArray[l.__lineNum].length}else{l.__leftNum-=1}l.$$updateCursorPosition();l.$$cancelSelect();break}case"right":{if(l.__leftNum>=l._contentArray[l.__lineNum].length){if(l.__lineNum>=l._contentArray.length-1)return;l.__lineNum+=1;l.__leftNum=0}else{l.__leftNum+=1}l.$$updateCursorPosition();l.$$cancelSelect();break}case"backspace":{if(l.$$selectIsNotBlank()){l.$$deleteSelect()}else{if(l.__leftNum<=0){if(l.__lineNum<=0)return;l.__lineNum-=1;l.__leftNum=l._contentArray[l.__lineNum].length;l._contentArray[l.__lineNum]+=l._contentArray[l.__lineNum+1];l._contentArray.splice(l.__lineNum+1,1)}else{l.__leftNum-=1;l._contentArray[l.__lineNum]=l._contentArray[l.__lineNum].substring(0,l.__leftNum)+l._contentArray[l.__lineNum].substring(l.__leftNum+1)}}l.__formatData=l.$shader(l._contentArray.join("\n"),l._langColors);l.$$updateCursorPosition();l.$$updateView();l.$$cancelSelect();break}}})}function x(e){var r=[[]],o=0;e.forEach(function(e){var t=e.content.split(/\n/);r[o].push({color:e.color,content:t[0]});for(var n=1;n<t.length;n++){o+=1;r.push([]);r[o].push({color:e.color,content:t[n]})}});return r}function C(n,t,e){var r=[];var o=0;var i=function e(t){return n.substring(o,t+o>n.length?n.length:t+o)};var l="";var s="tag";var u=function e(){if(l!=""){r.push({color:t[s],content:l})}l=""};while(true){if(i(2)=="/*"){u();while(i(2)!=="*/"&&o<n.length){l+=n[o++]}r.push({color:t.annotation,content:l+i(2)});o+=2;l=""}else if(["'",'"'].indexOf(i(1))>-1){var a=i(1);u();do{l+=n[o++]}while(i(1)!=a&&o<n.length);if(i(1)!=a){a=""}else{o+=1}r.push({color:t.string,content:l+a});l=""}else if([":","{","}",";"].indexOf(i(1))>-1){u();r.push({color:t.border,content:i(1)});l="";if(i(1)=="{"||i(1)==";"){s="attr"}else if(i(1)=="}"){s="tag"}else{s="string"}o+=1}else{if(o>=n.length){u();break}else{l+=n[o++]}}}return e?r:x(r)}var O=["abstract","arguments","boolean","break","byte","case","catch","char","class","const","continue","debugger","default","delete","do","double","else","enum","eval","export","extends","false","final","finally","float","for","function","goto","if","implements","import","in","instanceof","int","interface","let","long","native","new","null","package","private","protected","public","return","short","static","super","switch","synchronized","this","throw","throws","transient","true","try","typeof","var","void","volatile","while","with","yield"];function S(n,t,e){var r=[];var o=0;var i=function e(t){return n.substring(o,t+o>n.length?n.length:t+o)};var l="";var s=function e(){if(l!=""){if(l[0]=="("){r.push({color:t.border,content:"("});l=l.substr(1)}r.push({color:t.text,content:l})}l=""};while(true){console.log(l);if(i(2)=="/*"){s();while(i(2)!=="*/"&&o<n.length){l+=n[o++]}r.push({color:t.annotation,content:l+i(2)});o+=2;l=""}else if(i(2)=="//"){s();while(i(1)!=="\n"&&o<n.length){l+=n[o++]}r.push({color:t.annotation,content:l});l=""}else if(["'",'"',"`"].indexOf(i(1))>-1){var u=i(1);s();do{l+=n[o++]}while(i(1)!=u&&o<n.length);if(i(1)!=u){u=""}else{o+=1}r.push({color:t.string,content:l+u});l=""}else if(i(1)=="("&&(l[0]==" "||o-l.length-1>=0&&n[o-l.length-1]==" ")){r.push({color:t.tag,content:l});o+=1;l="("}else if(i(1)=="("){r.push({color:t.attr,content:l});o+=1;l="("}else if([";","{","}","(",")",".","\n"].indexOf(i(1))>-1){s();r.push({color:t.border,content:i(1)});l="";o+=1}else if(i(1)==" "&&O.indexOf(l.trim())>-1){r.push({color:t.key,content:l+" "});l="";o+=1}else{if(o>=n.length){s();break}else{l+=n[o++]}}}return e?r:x(r)}function P(n,r){var o=[];var i=0;var l=function e(t){return n.substring(i,t+i>n.length?n.length:t+i)};var s="";var e=function e(){if(s!=""){o.push({color:r.text,content:s})}s=""};var t=function e(){var t=" ";if(l(1)=='"')t='"';if(l(1)=="'")t="'";do{s+=n[i++]}while(l(1)!=t&&i<n.length);if(t!=" "&&i<n.length){s+=t;i+=1}o.push({color:r.string,content:s});s=""};while(true){if(l(4)=="\x3c!--"){e();while(l(3)!=="--\x3e"&&i<n.length){s+=n[i++]}o.push({color:r.annotation,content:s+l(3)});i+=3;s=""}else if(l(2)=="</"){e();o.push({color:r.border,content:"</"});i+=2;while(l(1)!==">"&&i<n.length){s+=n[i++]}if(s!=""){o.push({color:r.tag,content:s});s="";if(i<n.length){o.push({color:r.border,content:">"});i+=1}}}else if(l(1)=="<"&&l(2)!="< "){var u="";e();o.push({color:r.border,content:"<"});i+=1;while(l(1)!=">"&&l(1)!=" "&&i<n.length){s+=n[i++]}if(s!=""){if(s=="style"||s=="script"){u="</"+s+">"}o.push({color:r.tag,content:s});s="";if(i<n.length){while(i<n.length){if(l(1)==">"){e();o.push({color:r.border,content:">"});i+=1;break}else if(l(1)!=" "){e();if(l(1)!='"'&&l(1)!="'"){while(l(1)!="="&&l(1)!=">"&&i<n.length&&l(1)!=" "){s+=n[i++]}if(s!=""){o.push({color:r.attr,content:s});s="";if(l(1)=="="){o.push({color:r.text,content:"="});i+=1;if(i<n.length&&l(1)!=" "&&l(1)!=">"){t()}}}else{s+=n[i++]}}else if(l(1)=="="){o.push({color:r.text,content:"="});i+=1}else{if(i<n.length&&l(1)!=" "&&l(1)!=">"){t()}}}else{s+=n[i++]}}}}if(u!=""){var a=i,c=s;while(l(u.length)!=u&&i<n.length){s+=n[i++]}if(i<n.length){var _={"</style>":C,"<\/script>":S}[u](s,r,true);_.forEach(function(e){o.push(e)});s=""}else{s=c;i=a}}}else{if(i>=n.length){e();break}else{s+=n[i++]}}}return x(o)}function k(e){console.warn("[提醒] HTML格式化方法未提供！");return e}function j(e){console.warn("[提醒] CSS格式化方法未提供！");return e}function D(e){console.warn("[提醒] JavaScript格式化方法未提供！");return e}var T=function e(t){var n=this;if(s(t.el)){var r={html:P,css:C,javascript:S,normal:function e(){var t=[];n._contentArray.forEach(function(e){t.push([{content:e,color:n._colorText}])});return t}};var o={html:k,css:j,javascript:D,normal:function e(t){return t}};this._el=t.el;t.color=t.color||{};this._colorBackground=t.color.background||"#d6d6e4";this._colorText=t.color.text||"#000000";this._colorNumber=t.color.number||"#888484";this._colorEdit=t.color.edit||"#eaeaf1";this._colorCursor=t.color.cursor||"#ff0000";this._colorSelect=t.color.select||"#6c6cf155";this._fontFamily=t["font-family"]||"新宋体";this._fontWeight=t["font-weight"]||600;this._tabSpace=t.tabSpace||4;var i=t.lang||{};this._langType=i.type||"normal";this._langColors=i.color||{};this._langColors.text=this._colorText;var l=function e(t,n){n=n||{};for(var r in n){t[r]=n[r]}return t};this._langColors=l({annotation:"#6a9955",border:"#ffffff",tag:"#1e50b3",attr:"#1e83b1",string:"#ac4c1e",key:"#ff0000"},this._langColors);if(["normal","html","css","javascript"].indexOf(this._langType)<0){console.error("[错误]配置的语言类型‘"+this._langType+"’不支持！");this._langType="normal"}this._contentArray=u(t.content)?(t.content+"").split("\n"):[""];this.$shader=a(t.shader)?t.shader:r[this._langType];this.$format=a(t.format)?t.format:o[this._langType]}else{throw new Error("options.el is not a element!")}this.$$initDom();this.__needUpdate=true;this.__lineNum=this._contentArray.length-1;this.__leftNum=this._contentArray[this.__lineNum].length;this.__cursor1=this.__cursor2={leftNum:0,lineNum:0};this.__formatData=this.$shader(this._contentArray.join("\n"),this._langColors);this.$$initView();this.$$updateView();this.$$bindEvent();this.valueOf=function(){return n._contentArray.join("\n")};this.format=function(){n._contentArray=n.$format(n._contentArray.join("\n")).split("\n");n.__lineNum=n._contentArray.length-1;n.__leftNum=n._contentArray[n.__lineNum].length;n.__formatData=n.$shader(n._contentArray.join("\n"),n._langColors);n.$$updateView();n.$$initView()}};T.prototype.$$textWidth=i;T.prototype.$$bestLeftNum=l;T.prototype.$$calcCanvasXY=c;T.prototype.$$selectIsNotBlank=_;T.prototype.$$initDom=h;T.prototype.$$initView=p;T.prototype.$$updateView=m;T.prototype.$$updateSelectView=d;T.prototype.$$updateCursorPosition=y;T.prototype.$$updateCanvasSize=g;T.prototype.$$cancelSelect=N;T.prototype.$$deleteSelect=v;T.prototype.$$bindEvent=A;T.author="心叶（yelloxing@gmail.com）";if((typeof module==="undefined"?"undefined":_typeof(module))==="object"&&_typeof(module.exports)==="object"){module.exports=T}else{window.WSCode=T}})();